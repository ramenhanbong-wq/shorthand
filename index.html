<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SHORTHAND MASTER | ëŒ€ì‹œë³´ë“œ</title>
    <style>
        :root { --main-blue: #3498db; --bg: #2c3e50; --card: #ffffff; --fail: #e74c3c; }
        body { font-family: 'Malgun Gothic', sans-serif; background-color: var(--bg); margin: 0; padding: 0; color: #333; }
        
        /* ë¡œê·¸ì¸ í™”ë©´ ìŠ¤íƒ€ì¼ */
        #login-screen { display: flex; justify-content: center; align-items: center; min-height: 100vh; text-align: center; }
        .login-box { max-width: 350px; width: 90%; background: #f8f9fa; padding: 40px; border-radius: 15px; border: 1px solid #ddd; box-shadow: 0 10px 25px rgba(0,0,0,0.2); }
        input { width: 100%; padding: 15px; margin-bottom: 10px; border-radius: 8px; border: 1px solid #ccc; box-sizing: border-box; }
        .login-btn { width: 100%; padding: 15px; background: var(--main-blue); color: white; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; }

        /* ëŒ€ì‹œë³´ë“œ í™”ë©´ ìŠ¤íƒ€ì¼ */
        #main-screen { display: none; padding: 20px; }
        header { max-width: 1000px; margin: 0 auto 30px; display: flex; justify-content: space-between; align-items: center; color: white; border-bottom: 2px solid rgba(255,255,255,0.1); padding-bottom: 15px; }
        .logout-btn { background: var(--fail); color: white; border: none; padding: 8px 15px; border-radius: 5px; cursor: pointer; }

        .dashboard-container { max-width: 1000px; margin: 0 auto; display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; }
        .menu-card { background: white; border-radius: 15px; padding: 30px; text-align: center; text-decoration: none; color: #333; transition: 0.3s; display: flex; flex-direction: column; align-items: center; cursor: pointer; }
        .menu-card:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.3); }
        .icon { font-size: 40px; margin-bottom: 15px; }
        .title { font-size: 1.2rem; font-weight: bold; margin-bottom: 10px; }
        .desc { font-size: 0.9rem; color: #666; line-height: 1.4; }
    </style>
</head>
<body onload="initApp()">

    <div id="login-screen">
        <div class="login-box">
            <h2 style="color:var(--bg)">âŒ¨ï¸ SHORTHAND MASTER</h2>
            <input type="text" id="nameInput" placeholder="ì„±í•¨ ì…ë ¥">
            <input type="password" id="pwInput" placeholder="ë¹„ë°€ë²ˆí˜¸">
            <button onclick="login()" id="loginBtn" class="login-btn">ì‹œìŠ¤í…œ ì ‘ì†</button>
        </div>
    </div>

    <div id="main-screen">
        <header>
            <div><span id="welcomeMsg" style="font-size: 1.2rem;"></span></div>
            <button onclick="logout()" class="logout-btn">ë¡œê·¸ì•„ì›ƒ</button>
        </header>

        <div class="dashboard-container">
            <a href="toksori2.html" class="menu-card">
                <div class="icon">ğŸ“¢</div>
                <div class="title">ë˜‘ì†Œë¦¬ 2</div>
                <div class="desc">ì‹¤ì‹œê°„ ì„±ê³¼ ë¶„ì„ ë°<br>ê¸°ë³¸ ì—°ìŠµ ëª¨ë“œ</div>
            </a>

            <a href="exam.html" class="menu-card">
                <div class="icon">ğŸ“</div>
                <div class="title">ì¡¸ì—… ì‹œí—˜</div>
                <div class="desc">ì…ë¬¸ë°˜ ì¡¸ì—…ì„ ìœ„í•œ<br>ì •ë°€ ì•½ì–´ í€´ì¦ˆ</div>
            </a>

            <a href="measure.html" class="menu-card">
                <div class="icon">â±ï¸</div>
                <div class="title">ììˆ˜ ì¸¡ì •</div>
                <div class="desc">ì‹¤ì‹œê°„ ì†ë„ ì¸¡ì • ë°<br>ìŒì„± íŒŒì¼ ë™ê¸°í™”</div>
            </a>

            <a href="sparta.html" class="menu-card">
                <div class="icon">ğŸ”¥</div>
                <div class="title">ìŠ¤íŒŒë¥´íƒ€</div>
                <div class="desc">ê¸´ ë¬¸ì¥ ë³´ê³ ì¹˜ê¸°<br>ì§‘ì¤‘ ê°•í™” í›ˆë ¨</div>
            </a>

            <a href="random.html" class="menu-card">
                <div class="icon">ğŸ”€</div>
                <div class="title">ì•½ì–´ ëœë¤</div>
                <div class="desc">ë¬´ì‘ìœ„ ì•½ì–´ ì•”ê¸° ë°<br>ì˜¤ë‹µ ëª©ë¡ ê´€ë¦¬</div>
            </a>
        </div>
    </div>

<script>
const GAS_URL = "https://script.google.com/macros/s/AKfycbxaxj3MBG5MK3nIO8hOV3EH9clAQi00pp-L78weLbFP7wj-9X1Fwt9ExUAncapRJsY/exec"; 
let currentUser = localStorage.getItem('shorthand_user');

function initApp() {
    if (currentUser) {
        document.getElementById('login-screen').style.display = 'none';
        document.getElementById('main-screen').style.display = 'block';
        document.getElementById('welcomeMsg').innerHTML = `ğŸ‘‹ <b>${currentUser}</b>ë‹˜ í™˜ì˜í•©ë‹ˆë‹¤!`;
    } else {
        document.getElementById('login-screen').style.display = 'flex';
        document.getElementById('main-screen').style.display = 'none';
    }
}

async function login() {
    const name = document.getElementById('nameInput').value.trim();
    const pw = document.getElementById('pwInput').value;
    if(!name || !pw) return alert("ì •ë³´ë¥¼ ì…ë ¥í•˜ì„¸ìš”.");
    
    document.getElementById('loginBtn').innerText = "ì ‘ì† ì¤‘...";
    try {
        const res = await fetch(GAS_URL, { method: "POST", body: JSON.stringify({ action: "login", name: name, pw: pw }) });
        const data = await res.json();
        if (data.result === "success") { 
            currentUser = data.name; 
            localStorage.setItem('shorthand_user', currentUser); 
            initApp(); 
        } else { 
            alert("ë¡œê·¸ì¸ ì‹¤íŒ¨: ì´ë¦„ì´ë‚˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸í•˜ì„¸ìš”."); 
        }
    } catch(e) { 
        alert("ì—°ê²° ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."); 
    }
    document.getElementById('loginBtn').innerText = "ì‹œìŠ¤í…œ ì ‘ì†";
}

function logout() {
    if(confirm("ë¡œê·¸ì•„ì›ƒ í•˜ì‹œê² ìŠµë‹ˆê¹Œ?")) {
        localStorage.removeItem('shorthand_user');
        location.reload();
    }
}
</script>
</body>
</html>
